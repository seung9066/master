<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sgg.mypage.mapper.MypageMapper">

    <!-- 정보 수정 전 아이디 비번 체크 -->
    <select id="chkMypage" parameterType="map" resultType="int">
        /* com.sgg.mypage.mapper.MypageMapper.chkMypage */
        SELECT COUNT(*)
        FROM SGG_USER
        WHERE 1 = 1
        AND DEL_YN = 'N'
        AND USER_ID = #{userId}
        AND USER_PW = #{userPw}
    </select>

    <!-- 정보 조회 -->
    <select id="getAccount" parameterType="map" resultType="resultMap">
        SELECT A1.USER_NM
            , A2.TEL_NO
            , A2.CITY
            , A2.EMAIL
            , A2.GEN
            , A2.COUNTRY
            , A2.ZIP
            , A2.ADDR
            , A2.ADDR_DTL
        FROM SGG_USER A1
            , SGG_USER_INFO A2
        WHERE 1 = 1
        AND A1.USER_ID = A2.USER_ID(+)
        AND A1.DEL_YN = 'N'
        AND A2.DEL_YN(+) = 'N'
        AND A1.USER_ID = #{userId}
    </select>

    <!-- 정보 수정 -->

</mapper>